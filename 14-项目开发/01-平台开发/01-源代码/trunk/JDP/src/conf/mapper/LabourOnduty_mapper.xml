<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.jd.pims.pem.dao.LabourOndutyDao" >
  <!-- 在岗人数  -->
  <resultMap id="labourOnduty" type="com.jd.pims.pem.model.LabourOnduty" >
    <id column="id" property="id" />
    <result column="cu_id" property="cuId"  />
    <result column="biz_date" property="bizDate"  />
    <result column="timing" property="timing"  />
    <result column="person_type" property="personType"  />
    <result column="quanity_onduty" property="quantityOnduty"  />
    <result column="create_time" property="createTime"  />
    <result column="last_update_time" property="lastUpdateTime"  />
  </resultMap>
  
  <select id="getNumberOnDuty" resultType="java.util.Map" parameterType="String">
  		SELECT
			lo.ID as id,
			lo.CU_ID as cu_id,
			lo.BIZ_DATE as biz_date,
			lo.TIMING as timing,
			lo.PERSON_TYPE as person_type,
			lo.QUANITY_ONDUTY as quanity_onduty,
			lo.CREATE_TIME as create_time,
			lo.LAST_UPDATE_TIME as last_update_time
		FROM
			JD_LE_LABOUR_ONDUTY lo
		WHERE
			lo.CU_ID = #{CU_ID}
  </select>
  <select id="getBranches" resultType="String" parameterType="String">
  		SELECT
			c.id
		FROM
			NP_SYS_CONTROLUNIT c
		WHERE
			c.PARENTID = #{PARENTID}
  </select>
  
</mapper>